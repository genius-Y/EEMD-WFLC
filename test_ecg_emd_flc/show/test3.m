clear;
accg =load('E:\work\test\accg.txt');
rot =load('E:\work\test\rot.txt');
n=length(rot);

a = [164.200000000000,-2.40000000000000,0.200000000000000];
k=1;
tt=1;
for i=1:n
    if abs(rot(i,1)-a(1)<=0.2) && abs(rot(i,2)-a(2))<=0.2 && abs(rot(i,3)-a(3))<=0.2
        tt(k)= i;
        k=k+1;
    end
end
m = length(tt);
for i=1:m
    t1(i,:) = accg(i,:);
end

figure(1);
plot(t1(:,1), 'r');
figure(2);
plot(t1(:,2), 'g');
figure(3);
plot(t1(:,3), 'b');
b = [-0.00139586400000000	-0.000155906700000000	1.00049700000000;
-0.000567215100000000	0.000477944000000000	0.996025000000000;
0.000968357300000000	0.00135877000000000	0.995511500000000;
-0.00104284100000000	0.00279899200000000	0.995624100000000;
-0.00203160300000000	-0.000615940000000000	1.00099900000000;
-0.00262737000000000	-0.000602510100000000	0.994092500000000]
for i=1:6
    t2(i,:)= t1(i,:) - b(i,:);
end

figure(1);
plot(t2(:,1), 'r');
figure(2);
plot(t2(:,2), 'g');
figure(3);
plot(t2(:,3), 'b');